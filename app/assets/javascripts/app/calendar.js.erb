
  $(document).ready(function() {

    // page is now ready, initialize the calendar...
    var array_dispo = []
    $('#calendar').fullCalendar({
      defaultView: 'agendaWeek',
      lang: "fr",
      header: false,
      selectHelper: true,
      allDaySlot: true,
      selectable: true,
      unselectAuto: true,
      timezone: 'local',
      minTime: "08:00:00",
      columnFormat: 'dddd',
      select: function (start, end, jsEvent, view) {

          $("#calendar").fullCalendar('addEventSource', [{
              start: start,
              end: end,
              rendering: 'background',
              block: true,
          },

          ]);

          console.log(start);
          var day = moment(start["_d"]).format("dddd");
          var start_time = moment(start["_d"]).format("HH:mm");
          var end_time = moment(end["_d"]).format("HH:mm");
          var slot = {    day: day,
                          start_time: start_time,
                          end_time: end_time

                      };
          array_dispo.push(slot);
          $("#dispo_array").val(JSON.stringify(array_dispo));

          $("#calendar").fullCalendar("unselect");
      },
      selectOverlap: function(event) {
           return ! event.block;
      },
  });

});
